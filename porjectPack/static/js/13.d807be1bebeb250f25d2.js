webpackJsonp([13],{gpj2:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var c={name:"check",data:function(){return{msg:"打卡",checkmassege:"未打卡",checkcount:0,showmore:!1,showworkcheck:!0,showoutcheck:!1,showfoot:!0,showcheck:!0,showstatistics:!0,showrule:!0,showsetting:!0,signKey:null,showMapImg:null,resultData:{userId:"",username:"",canAttendance:!0,workType:"上班打卡",workTime:"",position:{latitude:"",longitude:"",name:"",address:"",rang:""},attendanceTeam:{name:"",id:""}}}},created:function(){this.getSignKey()},methods:{controlShow:function(){this.showmore=!0},controlHide:function(){this.showmore=!1},changeCheckTpye:function(){this.showworkcheck?(this.showworkcheck=!1,this.showoutcheck=!0):(this.showworkcheck=!0,this.showoutcheck=!1)},getRange:function(t,s,e,c){var o=t*Math.PI/180,a=e*Math.PI/180,i=o-a,n=s*Math.PI/180-c*Math.PI/180,l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(i/2),2)+Math.cos(o)*Math.cos(a)*Math.pow(Math.sin(n/2),2)));return l*=6378.137,l=Math.round(1e4*l)/1e4},openMsg:function(t){this.$confirm(t,"提示",{showCancelButton:!1,showConfirmButton:!1,type:"warning"}).then(function(){}).catch(function(){})},getSignKey:function(){var t=this;this.$axios.get("/groupApi/getSign/",{params:{url:"http://shooturbrain.top:8083/check"}}).then(function(s){s.data.flag&&(t.signKey=s.data.data)}),console.log(this.signKey)},checkOntime:function(){if(console.log(wx),this.signKey){console.log(this.signKey),wx.config({beta:!0,debug:!0,appId:"ww3b6376e85fb19ee9",timestamp:this.signKey.timestamp,nonceStr:this.signKey.nonceStr,signature:this.signKey.signature,jsApiList:["openLocation","getLocation","invoke","onLocationChange","hideOptionMenu"]});var t=this;wx.getLocation({type:"wgs84",success:function(s){var e=s.latitude,c=s.longitude,o=s.speed,a=s.accuracy;t.openMsg(e),t.openMsg(c),t.openMsg(o),t.openMsg(a),console.log(e,c,o,a),t.showMapImg=wx.openLocation({latitude:e,longitude:c,name:"",address:"",scale:16})}})}this.checkcount+=1,this.checkmassege=this.checkcount+"次打卡"},gocheck:function(){this.$router.push("/check")},gostatistics:function(){this.$router.push("/statistics")},gorule:function(){this.$router.push("/rule")},gosetting:function(){this.$router.push("/addadmin")}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"attendance"},[e("div",{staticClass:"heading"},[t._m(0),t._v(" "),e("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.msg))]),t._v(" "),e("div",{staticClass:"more common"},[e("i",{staticClass:"fa fa-ellipsis-v",on:{click:t.controlShow}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showmore,expression:"showmore"}],staticClass:"selectpart"},[e("div",{staticClass:"cover",on:{click:t.controlHide}}),t._v(" "),e("div",{staticClass:"selectlist"},[e("ul",[e("router-link",{staticClass:"menu_li",attrs:{to:"/checkrecord"}},[e("i",{staticClass:"fa fa-bars",staticStyle:{"padding-top":"3px"}}),t._v(" "),e("div",{staticClass:"selectext"},[t._v("\n                打卡记录\n              ")])]),t._v(" "),e("router-link",{staticClass:"menu_li",attrs:{to:"/application"}},[e("i",{staticClass:"fa fa-pencil-square-o",staticStyle:{"padding-top":"3px"}}),t._v(" "),e("div",{staticClass:"selectext"},[t._v("\n                假勤申请\n              ")])]),t._v(" "),e("router-link",{staticClass:"menu_li",attrs:{to:"/checksetting"}},[e("i",{staticClass:"fa fa-cog",staticStyle:{"padding-top":"3px"}}),t._v(" "),e("div",{staticClass:"selectext"},[t._v("\n                打卡设置\n              ")])])],1)])])])]),t._v(" "),e("div",{staticClass:"miding"},[e("div",{staticClass:"manner"},[e("button",{staticClass:"work-check check",on:{click:t.changeCheckTpye}},[e("span",{class:t.showworkcheck?"colortext":"colorcommon"},[t._v("上下班打卡")])]),t._v(" "),e("button",{staticClass:"out-check check",on:{click:t.changeCheckTpye}},[e("span",{class:t.showoutcheck?"colortext":"colorcommon"},[t._v("外出打卡")])])]),t._v(" "),t.showworkcheck?e("div",{staticClass:"operate"},[e("div",{staticClass:"showmpa"},[e("img",{staticClass:"map",attrs:{src:t.showMapImg}})]),t._v(" "),e("div",{staticClass:"checkbutton"},[e("div",{staticClass:"buttonline"},[e("button",{staticClass:"workbutton",on:{click:t.checkOntime}},[e("span",[t._v(t._s(t.checkmassege))])])])]),t._v(" "),e("div",{staticClass:"massege"},[t._v("人员信息")])]):t._e(),t._v(" "),t.showoutcheck?e("div",{staticClass:"operate"},[e("div",{staticClass:"showmpa"},[t._v("显示打卡地址")]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"massege"},[t._v("人员信息")])]):t._e()]),t._v(" "),t.showfoot?e("div",{staticClass:"bottoming"},[t.showcheck?e("button",{staticClass:"clock-in bottomchildre",class:-1!==t.$route.path.indexOf("check")?"colortext":"colorcommon",on:{click:t.gocheck}},[e("i",{staticClass:"fa fa-map-marker"}),t._v(" "),e("span",[t._v("打卡")])]):t._e(),t._v(" "),t.showstatistics?e("button",{staticClass:"statistics bottomchildre",class:-1!==t.$route.path.indexOf("statistics")?"colortext":"colorcommon",on:{click:t.gostatistics}},[e("i",{staticClass:"fa fa-pie-chart"}),t._v(" "),e("span",[t._v("统计")])]):t._e(),t._v(" "),t.showrule?e("button",{staticClass:"rule bottomchildre",class:-1!==t.$route.path.indexOf("rule")?"colortext":"colorcommon",on:{click:t.gorule}},[e("i",{staticClass:"fa fa-sliders "}),t._v(" "),e("span",[t._v("规则")])]):t._e(),t._v(" "),t.showsetting?e("button",{staticClass:"setting bottomchildre",class:-1!==t.$route.path.indexOf("addadmin")?"colortext":"colorcommon",on:{click:t.gosetting}},[e("i",{staticClass:"fa fa-cog"}),t._v(" "),e("span",[t._v("设置")])]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"black common"},[s("i",{staticClass:"fa fa-arrow-left"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"checkbutton"},[s("div",{staticClass:"buttonline"},[s("button",{staticClass:"workbutton"},[s("span",[this._v("外出打卡")])])])])}]};var a=e("VU/8")(c,o,!1,function(t){e("lRh+")},"data-v-3ca1ce0e",null);s.default=a.exports},"lRh+":function(t,s){}});
//# sourceMappingURL=13.d807be1bebeb250f25d2.js.map