webpackJsonp([3],{"33wb":function(t,e){},"3jiA":function(t,e){},"5KgA":function(t,e){},HXrd:function(t,e){},KC0u:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"selectModal",props:{selection:{type:Array,default:function(){return[]}},titlename:{type:String,default:"0"}},data:function(){return{}},watch:{},methods:{closeSelf:function(){this.$emit("closeme")},getCheck:function(t){for(var e=this.selection.length,i=0;i<e;i++)this.selection[i].name===t.name?this.selection[i].selected=!0:this.selection[i].selected=!1;this.$emit("gettype",t.name),this.closeSelf()}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop",staticStyle:{"background-color":"rgba(0,0,0,.3)"},on:{click:t.closeSelf}},[i("div",{staticClass:"modal",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"modal-header"},[i("span",[t._v(t._s(t.titlename))])]),t._v(" "),i("div",{staticClass:"modal-body"},t._l(t.selection,function(e){return i("div",{key:e.id,staticStyle:{"border-bottom":"1px solid #eee",display:"flex"},on:{click:function(i){return t.getCheck(e)}}},[i("div",[i("span",{staticClass:"contentspan"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"contentspan secondspan"},[t._v(t._s(e.desc))])]),t._v(" "),e.selected?i("i",{staticClass:"fa fa-check",staticStyle:{margin:"auto","margin-right":"10px"}}):t._e()])}),0)])])},staticRenderFns:[]};var n=i("VU/8")(s,a,!1,function(t){i("Orfh")},null,null).exports,l=i("gGZ4"),c=i("aK3q"),o={name:"mselectModal",props:{selection:{type:Array,default:function(){return[{dayname:"星期一",ischeck:!0},{dayname:"星期二",ischeck:!0},{dayname:"星期三",ischeck:!0},{dayname:"星期四",ischeck:!0},{dayname:"星期五",ischeck:!0},{dayname:"星期六",ischeck:!1},{dayname:"星期日",ischeck:!1}]}},titlename:{type:String,default:""}},data:function(){return{}},methods:{closeSelf:function(){this.$emit("closeday")},saveData:function(t){this.$emit("getday",this.selection),this.closeSelf()},getCheck:function(t){for(var e=this.selection.length,i=0;i<e;i++)this.selection[i].dayname===t.dayname&&(this.selection[i].ischeck=!this.selection[i].ischeck)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:function(e){return t.saveData(!1)}}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"contentbody"},[i("div",{staticClass:"commonpiece"},t._l(t.selection,function(e){return i("div",{key:e.id,staticClass:"titlehead",staticStyle:{display:"flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(i){return t.getCheck(e)}}},[i("div",{staticClass:"titles"},[i("span",[t._v(t._s(e.dayname))])]),t._v(" "),e.ischeck?i("i",{staticClass:"fa fa-check",staticStyle:{margin:"auto","margin-right":"10px"}}):t._e()])}),0)])])])},staticRenderFns:[]};for(var d=i("VU/8")(o,r,!1,function(t){i("SL1L")},"data-v-5a2512c7",null).exports,h=i("Zrlr"),p=i.n(h),m=function t(){var e=this;p()(this,t),this.start=function(t){if(!t)throw new Error("需要执行函数");e.timer&&e.stop(),e.timer=requestAnimationFrame(t)},this.stop=function(){e.timer&&(cancelAnimationFrame(e.timer),e.timer=null)},this.timer=null},u=!1,f=Math.round(180*Math.acos(.9352)/Math.PI);360%f!=0&&f<=360;)f+=1;var v=f,_=Math.floor(360/v/12),y={name:"basicSelect",props:{values:{type:Array,default:function(){return[]}},evalue:{type:String,default:""}},data:function(){return{finger:{startY:0,endY:0,startTime:0,entTime:0,currentMove:0,prevMove:0},range:{start:-_,end:_,space:_}}},computed:{scrollValues:function(){for(var t=[],e=this.range.start;e<=this.range.end;e+=1)t.push({value:this.getRangeData(e),index:e});return t},getListTop:function(){return{top:100-Math.round(18)+"px",height:"36px"}},getWrapperHeight:function(){return{height:"200px",width:"40px"}},getCoverStyle:function(){return{backgroundSize:"100% "+(100-Math.round(18))+"px"}},getDividerStyle:function(){return{top:100-Math.round(18)+"px",height:"34px"}},animate:function(){return new m}},mounted:function(){this.$el.addEventListener("touchstart",this.listenerTouchStart,!1),this.$el.addEventListener("touchmove",this.listenerTouchMove,!1),this.$el.addEventListener("touchend",this.listenerTouchEnd,!1)},beforeDestory:function(){this.$el.removeEventListener("touchstart",this.listenerTouchStart,!1),this.$el.removeEventListener("touchmove",this.listenerTouchMove,!1),this.$el.removeEventListener("touchend",this.listenerTouchEnd,!1)},methods:{initWheelItemDeg:function(t){return{transform:"rotate3d(1, 0, 0, "+-1*t*v+"deg) translate3d(0, 0, 100px)",height:"36px",lineHeight:"36px"}},listenerTouchStart:function(t){t.stopPropagation(),t.preventDefault(),u=!1,this.finger.startY=t.targetTouches[0].pageY,this.finger.prevMove=this.finger.currentMove,this.finger.startTime=Date.now()},listenerTouchMove:function(t){t.stopPropagation(),t.preventDefault();var e=this.finger.startY-t.targetTouches[0].pageY+this.finger.prevMove;this.finger.currentMove=e,this.$refs.wheel.style.transform="rotate3d(1, 0, 0, "+e/36*v+"deg)",console.log(),this.updateRange(Math.round(e/36))},listenerTouchEnd:function(t){t.stopPropagation(),t.preventDefault(),this.finger.endY=t.changedTouches[0].pageY,this.finger.endTime=Date.now(),this.getInertiaDistance()},updateRange:function(t){this.range.start=-1*this.range.space+t,this.range.end=this.range.start+2*this.range.space},getRangeData:function(t){return t%=this.values.length,this.values[t>=0?t:t+this.values.length]},getSelectValue:function(t){var e=Math.abs(t/36);this.getRangeData(e);var i=this.scrollValues[1].value;this.$emit("select",i)},getInertiaDistance:function(){var t=(this.finger.startY-this.finger.endY)/(this.finger.endTime-this.finger.startTime),e=Math.abs(t);u=!0,this.inertia(e,Math.floor(e/t),0)},inertia:function(t,e,i){if(t<=i||!u)return this.animate.stop(),this.finger.prevMove=this.finger.currentMove,this.updateRange(Math.round(this.finger.currentMove/36)),void this.getSelectValue(this.finger.currentMove);var s=e*t*(1e3/60)+1e3/60*-.025+this.finger.currentMove,a=e*t-.05,n=s/36*v,l=s;a<=i?(n=Math.round(s/36)*v,l=36*Math.round(s/36),this.$refs.wheel.style.transition="transform 700ms cubic-bezier(0.19, 1, 0.22, 1)"):this.$refs.wheel.style.transition="",this.finger.currentMove=l,this.$refs.wheel.style.transform="rotate3d(1, 0, 0, "+n+"deg)",this.updateRange(Math.round(this.finger.currentMove/36)),this.animate.start(this.inertia.bind(this,a,e,i))}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-wrapper",staticStyle:{"margin-left":"5px","margin-right":"5px"},style:t.getWrapperHeight},[i("ul",{ref:"wheel",staticClass:"wheel-list",style:t.getListTop},t._l(t.scrollValues,function(e,s){return i("li",{key:s,staticClass:"wheel-item",style:t.initWheelItemDeg(e.index)},[t._v(t._s(e.value))])}),0),t._v(" "),i("div",{staticClass:"cover",style:t.getCoverStyle}),t._v(" "),i("div",{staticClass:"divider",style:t.getDividerStyle})])},staticRenderFns:[]};var g=i("VU/8")(y,C,!1,function(t){i("sVCJ")},"data-v-19671046",null).exports,x={name:"timePicker",props:{selection:{type:Array,default:function(){return[]}},dayInfo:{type:String,default:""},hourInfo:{type:String,default:"00"},minuteInfo:{type:String,default:"00"}},data:function(){return{daytype:["今日","次日"],hourList:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minuteList:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],day:this.dayInfo,hour:this.hourInfo,minute:this.minuteInfo}},created:function(){this.getList()},components:{basicSelect:g},methods:{getList:function(){var t=this.hourList.indexOf(this.hour),e=[],i=[];0!==t&&(e=this.hourList.slice(0,t),i=this.hourList.slice(t),this.hourList=i.concat(e)),0!==(t=this.minuteList.indexOf(this.minute))&&(e=this.minuteList.slice(0,t),i=this.minuteList.slice(t),this.minuteList=i.concat(e))},closeSelf:function(){this.$emit("closepicker")},getDayValue:function(t){console.log(t),this.day=t},getHourValue:function(t){console.log(t),this.hour=t},getMinuteValue:function(t){console.log(t),this.minute=t},saveTime:function(){var t=this.hour+":"+this.minute;"次日"===this.day&&(t=this.day+" "+t),this.$emit("savetime",t),this.closeSelf()}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop",staticStyle:{"background-color":"rgba(0,0,0,.3)"},on:{click:t.closeSelf}},[i("div",{staticClass:"modal",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"modal-header",staticStyle:{padding:"10px",display:"inline-flex"}},[i("div",{staticClass:"black",on:{click:t.closeSelf}},[i("span",[t._v("取消")])]),t._v(" "),i("div",{staticClass:"title"}),t._v(" "),i("div",{staticClass:"more",on:{click:t.saveTime}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"timeChoice"},[i("div",{staticClass:"timeChoice"},[i("basic-select",{attrs:{values:t.hourList,evalue:t.hour},on:{select:t.getHourValue}}),t._v(" "),i("span",{staticStyle:{margin:"auto"}},[t._v(":")]),t._v(" "),i("basic-select",{attrs:{values:t.minuteList},on:{select:t.getMinuteValue}})],1)])])])])},staticRenderFns:[]};var w=i("VU/8")(x,k,!1,function(t){i("pM97")},null,null).exports,T={name:"slideSelect",props:{selection:{type:Array,default:function(){return[]}},optionList:{type:Array,default:function(){return[]}}},data:function(){return{selecteName:"休息"}},components:{basicSelect:g},methods:{closeSelf:function(){this.$emit("closeslide")},getSelectValue:function(t){console.log(t),this.selecteName=t},saveSlide:function(){for(var t=0;t<this.selection.length;t++)if(this.selection[t].name===this.selecteName){this.$emit("saveslide",this.selection[t]);break}this.closeSelf()}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop",staticStyle:{"background-color":"rgba(0,0,0,.3)"},on:{click:t.closeSelf}},[i("div",{staticClass:"modal",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"modal-header",staticStyle:{padding:"10px",display:"inline-flex"}},[i("div",{staticClass:"black",on:{click:t.closeSelf}},[i("span",[t._v("取消")])]),t._v(" "),i("div",{staticClass:"title"}),t._v(" "),i("div",{staticClass:"more",on:{click:t.saveSlide}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"timeChoice"},[i("div",[i("basic-select",{attrs:{values:t.optionList},on:{select:t.getSelectValue}})],1)])])])])},staticRenderFns:[]};var D=i("VU/8")(T,S,!1,function(t){i("hWeZ")},null,null).exports,E={name:"timeModal",props:{parentData:{type:Object,default:function(){}},workRule:{type:Array,default:function(){return[]}},dataselect:{type:Array,default:function(){return[]}},workDay:{type:Array,default:function(){return[{dayname:"星期一",ischeck:!0},{dayname:"星期二",ischeck:!0},{dayname:"星期三",ischeck:!0},{dayname:"星期四",ischeck:!0},{dayname:"星期五",ischeck:!0},{dayname:"星期六",ischeck:!1},{dayname:"星期日",ischeck:!1}]}},dataType:{type:String,default:"fixed"},shiftName:{type:String,default:"未设置"},cycleName:{type:String,default:"未设置"}},data:function(){return{titlename:"编辑打卡时间",overTime:[{worktype:"以加班申请为准",des:"加班申请通过后，直接记录为加班时长"},{worktype:"以打卡时间为准",des:"根据打卡时间自动计算加班时长"},{worktype:"以加班申请核算打卡记录",des:"打卡后，根据加班申请核算加班时长"}],editRtime:!0,showDay:!1,editTime:null,editTimeType:"",inputShitName:!1,showEditTime:!1,showCycle:!1,tempData:this.parentData,weekDay:"",workTime:[],restTime:[],cycleInfo:[],cycleOption:[],editCycleName:"",shiftList:[]}},created:function(){this.initPage()},components:{mselectModal:d,inputModal:l.a,timePicker:w,slideSelect:D},methods:{initPage:function(){if("cycle"===this.dataType){this.cycleInfo=this.parentData.cycleInfo;for(var t=0;t<this.parentData.shiftList.length;t++)this.cycleOption.push(this.parentData.shiftList[t].name),this.shiftList.push(this.parentData.shiftList[t]);this.shiftList.push({name:"休息"}),this.cycleOption.push("休息")}else this.workTime=this.parentData.workTime,this.restTime=this.parentData.restTime},openRest:function(){this.editRtime=!this.editRtime},closeSelf:function(){this.$emit("closetime")},saveData:function(t){"shift"===this.dataType&&this.$emit("gettime",{name:this.tempData.name,time:this.workTime,rest:this.restTime}),"fixed"===this.dataType&&this.$emit("gettime",{day:this.tempData.weekDay,time:this.workTime,rest:this.restTime}),"cycle"===this.dataType&&this.$emit("gettime",{name:this.tempData.name,cycleInfo:this.cycleInfo}),this.closeSelf()},addWorkTime:function(){var t="时间段"+(this.workTime.length+1);this.workTime.push({name:t,starttime:"09:00",endtime:"18:00"})},delWorkTime:function(t){this.workTime.splice(this.workTime.indexOf(t,1))},addCycleInfo:function(){var t="第"+(this.cycleInfo.length+1)+"天";this.cycleInfo.push({dayNum:t,dayInfo:{name:"未设置"}})},showDayModal:function(){this.showDay=!this.showDay},getDay:function(t){for(var e="",i=0;i<t.length;i++)t[i].ischeck&&(e=e+" "+t[i].dayname);this.tempData.weekDay=e},closeDay:function(){this.showDay=!this.showDay},showTimeModal:function(t,e){this.editTime=t,this.editTimeType=e,this.showEditTime=!this.showEditTime},getEditTime:function(t){if("rest"===this.editTime.name)"start"===this.editTimeType?this.restTime[0].starttime=t:this.restTime[0].endtime=t;else for(var e=0;e<this.workTime.length;e++)if(this.workTime[e].name===this.editTime.name){"start"===this.editTimeType?this.workTime[e].starttime=t:this.workTime[e].endtime=t;break}},closeTime:function(){this.showEditTime=!this.showEditTime},showInputShift:function(){this.showInput=!this.showInput,this.inputShitName=!this.inputShitName},getShiftName:function(t){this.tempData.name=t},closeInputShift:function(){this.inputShitName=!this.inputShitName},editCycle:function(t){this.editCycleName=t.dayNum,this.showCycle=!this.showCycle},getCycle:function(t){for(var e=0;e<this.cycleInfo.length;e++)if(this.cycleInfo[e].dayNum===this.editCycleName){this.cycleInfo[e].dayInfo=t;break}},closeCycle:function(){this.showCycle=!this.showCycle}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:function(e){return t.saveData(!1)}}},[i("span",[t._v("确定")])])]),t._v(" "),"fixed"===t.dataType||"shift"===t.dataType?i("div",{staticClass:"contentbody"},["fixed"===t.dataType?i("div",{staticClass:"commonpiece",on:{click:t.showDayModal}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(0),t._v(" "),i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex","text-overflow":"unset","overflow-x":"scroll"}},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempData.weekDay))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e(),t._v(" "),"shift"===t.dataType?i("div",{staticClass:"commonpiece",on:{click:t.showInputShift}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(1),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempData.name))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e(),t._v(" "),t._l(t.workTime,function(e,s){return i("div",{key:s,staticClass:"commonpiece"},[i("div",{staticClass:"delitem"},[1===t.workTime.length?i("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[t._v("上下班时间段")]):t._e(),t._v(" "),t.workTime.length>1?i("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[t._v("上下班时间段"+t._s(s+1))]):t._e(),t._v(" "),t.workTime.length>1?i("span",{staticStyle:{margin:"auto 10px auto auto","font-size":"small"},on:{click:function(i){return t.delWorkTime(e)}}},[t._v("删除")]):t._e()]),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(i){return t.showTimeModal(e,"start")}}},[t._m(2,!0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.starttime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(i){return t.showTimeModal(e,"end")}}},[t._m(3,!0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.endtime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]),t._v(" "),s===t.workTime.length-1?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:t.addWorkTime}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"large",margin:"auto 0px 5px 25px"}}),t._v(" "),i("span",{staticStyle:{"padding-left":"10px",margin:"auto 0px 5px 0px"}},[t._v("添加")])]):t._e()])}),t._v(" "),1===t.workTime.length?i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"}},[t._m(4),t._v(" "),t.editRtime?i("i",{staticClass:"fa fastyle fa-toggle-on",staticStyle:{"margin-right":"5%"},on:{click:t.openRest}}):t._e(),t._v(" "),t.editRtime?t._e():i("i",{staticClass:"fa fastyle fa-toggle-off",staticStyle:{"margin-right":"5%"},on:{click:t.openRest}})]),t._v(" "),t.editRtime?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.showTimeModal(t.restTime[0],"start")}}},[t._m(5),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.restTime.starttime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e(),t._v(" "),t.editRtime?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.showTimeModal(t.restTime[0],"end")}}},[t._m(6),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.restTime.endtime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e()]):t._e()],2):t._e(),t._v(" "),"cycle"===t.dataType?i("div",{staticClass:"contentbody"},[i("div",{staticClass:"commonpiece",on:{click:t.showInputShift}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(7),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempData.name))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece"},[t._m(8),t._v(" "),t._l(t.cycleInfo,function(e,s){return i("div",{key:s,staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(i){return t.editCycle(e)}}},[i("div",{staticClass:"titles"},[i("span",[t._v(t._s(e.dayNum))])]),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.dayInfo.name))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])}),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:t.addCycleInfo}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"large",margin:"auto 0px 5px 25px"}}),t._v(" "),i("span",{staticStyle:{"padding-left":"10px",margin:"auto 0px 5px 0px"}},[t._v("添加")])])],2)]):t._e()]),t._v(" "),t.showEditTime?i("time-picker",{on:{savetime:t.getEditTime,closepicker:t.closeTime}}):t._e(),t._v(" "),t.showDay?i("mselect-modal",{attrs:{selection:t.workDay,titlename:"工作日"},on:{getday:t.getDay,closeday:t.closeDay}}):t._e(),t._v(" "),t.inputShitName?i("input-modal",{attrs:{titlename:"班次名称",inputtxt:t.shiftName},on:{getinput:t.getShiftName,closeinput:t.closeInputShift}}):t._e(),t._v(" "),t.showCycle?i("slide-select",{attrs:{selection:t.shiftList,optionList:t.cycleOption},on:{saveslide:t.getCycle,closeslide:t.closeCycle}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("工作日")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("班次名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("上班")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("下班")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("休息时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("开始")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("结束")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("周期名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"delitem"},[e("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[this._v("周期天数")])])}]};var $=i("VU/8")(E,b,!1,function(t){i("Pbg6")},"data-v-301480b5",null).exports,I={name:"dataList",props:{existlist:{type:Array,default:function(){return[]}},selectType:{type:Array,default:function(){return[]}},titlename:{type:String,default:""},dataType:{type:String,default:"fixed"}},data:function(){return{isedit:!1,showModal:!1,listType:this.dataType,workDay:"",workTime:[],restTime:{},parentData:{},tempexist:this.existlist}},created:function(){this.initList()},components:{timeModal:$},methods:{initList:function(){0===this.tempexist.length&&this.showTimeModal("new")},closeSelf:function(){this.$emit("closelist")},seveData:function(){this.$emit("getdata",this.tempexist),this.closeSelf()},editList:function(){this.isedit=!this.isedit},saveSearch:function(t){this.isedit=!this.isedit},delDate:function(t){this.existlist.splice(this.existlist.indexOf(t,1))},showTimeModal:function(t){"new"===t&&("shift"===this.listType&&(this.parentData={name:"",workTime:[{name:"时间段一",starttime:"09:00",endtime:"18:00"}],restTime:{name:"rest",starttime:"12:00",endtime:"13:00"}}),"fixed"===this.listType&&(this.parentData={weekDay:"星期一 星期二 星期三 星期四 星期五",workTime:[{name:"时间段一",starttime:"09:00",endtime:"18:00"}],restTime:{name:"rest",starttime:"12:00",endtime:"13:00"}}),"cycle"===this.listType&&(this.parentData={name:"",cycleInfo:[{dayNum:"第1天",dayInfo:{name:"未设置"}}],shiftList:this.selectType})),this.showModal=!this.showModal},getTime:function(t){"shift"===this.listType&&this.tempexist.push({name:t.name,workTime:t.time,restTime:t.rest}),"fixed"===this.listType&&this.tempexist.push({weekDay:t.day,workTime:t.time,restTime:t.rest}),"cycle"===this.listType&&this.tempexist.push({name:t.name,cycleList:t.cycleInfo})},closeTimeModal:function(){this.showModal=!this.showModal}}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.seveData}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),t.isedit?i("div",{staticClass:"more common",on:{click:function(e){return t.saveSearch(!1)}}},[i("span",[t._v("确定")])]):t._e(),t._v(" "),t.isedit?t._e():i("div",{staticClass:"more common",on:{click:t.editList}},[i("span",[t._v("编辑")])])]),t._v(" "),i("div",{staticClass:"existstyle"},[i("div",{staticClass:"addtitle",on:{click:function(e){return t.showTimeModal("new")}}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"x-large",margin:"auto 0px auto 25px"}}),t._v(" "),t._m(0)]),t._v(" "),"fixed"===t.dataType?i("div",{staticClass:"options"},t._l(t.tempexist,function(e,s){return i("div",{key:s,staticClass:"alloption"},[i("div",{staticClass:"infos"},[i("div",{staticClass:"lione"},[i("span",{staticClass:"titlespan"},[t._v("工作日")]),t._v(" "),i("div",{staticClass:"spancontent"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.weekDay))])])]),t._v(" "),i("div",{staticClass:"lione"},[i("span",{staticClass:"titlespan"},[t._v("时段")]),t._v(" "),i("div",{staticClass:"spancontent"},t._l(e.workTime,function(e,s){return i("span",{key:s,staticClass:"spanstyle"},[t._v(t._s(e.starttime)+"~"+t._s(e.endtime))])}),0)])]),t._v(" "),t.isedit?i("div",{staticClass:"fastyle",on:{click:function(i){return t.delDate(e)}}},[i("i",{staticClass:"fa fa-close"})]):t._e(),t._v(" "),t.isedit?t._e():i("div",{staticClass:"fastyle"},[i("i",{staticClass:"fa fa-angle-right"})])])}),0):t._e(),t._v(" "),"shift"===t.dataType?i("div",{staticClass:"options"},t._l(t.tempexist,function(e,s){return i("div",{key:s,staticClass:"alloption"},[i("div",{staticClass:"infos"},[i("div",{staticClass:"lione"},[i("span",{staticClass:"titlespan"},[t._v("班次名称")]),t._v(" "),i("div",{staticClass:"spancontent"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.name))])])]),t._v(" "),i("div",{staticClass:"lione"},[i("span",{staticClass:"titlespan"},[t._v("时段")]),t._v(" "),i("div",{staticClass:"spancontent"},t._l(e.workTime,function(e,s){return i("span",{key:s,staticClass:"spanstyle"},[t._v(t._s(e.starttime)+"~"+t._s(e.endtime))])}),0)])]),t._v(" "),t.isedit?i("div",{staticClass:"fastyle",on:{click:function(i){return t.delDate(e)}}},[i("i",{staticClass:"fa fa-close"})]):t._e(),t._v(" "),t.isedit?t._e():i("div",{staticClass:"fastyle"},[i("i",{staticClass:"fa fa-angle-right"})])])}),0):t._e(),t._v(" "),"cycle"===t.dataType?i("div",{staticClass:"options"},t._l(t.tempexist,function(e,s){return i("div",{key:s,staticClass:"alloption"},[i("div",{staticClass:"infos"},[i("div",{staticClass:"lione"},[i("span",{staticClass:"titlespan"},[t._v("周期名称")]),t._v(" "),i("div",{staticClass:"spancontent"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.name))])])]),t._v(" "),i("div",{staticClass:"lione"},[i("span",{staticClass:"titlespan"},[t._v("周期天数")]),t._v(" "),i("div",{staticClass:"spancontent"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.cycleList.length)+"天为周期：")]),t._v(" "),t._l(e.cycleList,function(e,s){return i("span",{key:s,staticClass:"spanstyle"},[t._v(t._s(e.dayInfo.name)+" ")])})],2)])]),t._v(" "),t.isedit?i("div",{staticClass:"fastyle",on:{click:function(i){return t.delDate(e)}}},[i("i",{staticClass:"fa fa-close"})]):t._e(),t._v(" "),t.isedit?t._e():i("div",{staticClass:"fastyle"},[i("i",{staticClass:"fa fa-angle-right"})])])}),0):t._e()])]),t._v(" "),t.showModal?i("time-modal",{attrs:{parentData:t.parentData,dataselect:t.selectType,dataType:t.listType},on:{gettime:t.getTime,closetime:t.closeTimeModal}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{margin:"5px auto auto 0px"}},[e("span",{staticStyle:{"padding-left":"10px","margin-top":"5px"}},[this._v("添加")])])}]};var R=i("VU/8")(I,M,!1,function(t){i("VQuV")},"data-v-e46db3bc",null).exports,O={name:"shiftSetting",props:{existlist:{type:Object,default:function(){}},titlename:{type:String,default:""},dataType:{type:String,default:"shift"}},data:function(){return{inputvlue:"",showShiftdata:!1,showModal:!1,edittype:this.dataType,shiftData:[],cycleData:[],editData:[],selectData:[],tempexist:this.existlist}},created:function(){},components:{dataList:R},methods:{closeSelf:function(){this.$emit("closeshift")},saveShift:function(){this.$emit("getshift",this.tempexist),this.closeSelf()},editShift:function(t){if(this.edittype=t,"shift"===t)this.editData=this.tempexist.shiftlist;else{if(0===this.tempexist.shiftlist.length)return void alert("请先设置班次");this.selectData=this.tempexist.shiftlist,this.editData=this.tempexist.shiftcycle}this.showShiftdata=!this.showShiftdata},getEditdata:function(t){console.log("3333333333"),"shift"===this.edittype?this.tempexist.shiftlist=t:this.tempexist.shiftcycle=t},closeEditshift:function(){this.showShiftdata=!this.showShiftdata}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:t.saveShift}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:function(e){return t.editShift("shift")}}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(0),t._v(" "),t.tempexist.shiftlist.length>0?i("div",{staticClass:"descrip"},t._l(t.tempexist.shiftlist,function(e,s){return i("span",{key:s,staticClass:"spanstyle"},[t._v(t._s(e.name))])}),0):t._e(),t._v(" "),0===t.tempexist.shiftlist.length?i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v("未设置")])]):t._e(),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:function(e){return t.editShift("cycle")}}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(1),t._v(" "),t.tempexist.shiftcycle.length>0?i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.shiftcycle.length)+"个周期")])]):t._e(),t._v(" "),0===t.tempexist.shiftcycle.length?i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v("未设置")])]):t._e(),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),t._m(2)]),t._v(" "),t.showShiftdata?i("data-list",{attrs:{existlist:t.editData,selectType:t.selectData,dataType:t.edittype},on:{getdata:t.getEditdata,closelist:t.closeEditshift}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("班次")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("周期")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"commonpiece"},[e("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[e("div",{staticClass:"titles"},[e("span",[this._v("编辑排班")])]),this._v(" "),e("div",{staticClass:"descrip"}),this._v(" "),e("i",{staticClass:"fa fastyle fa-angle-right"})])])}]};var A=i("VU/8")(O,L,!1,function(t){i("33wb")},"data-v-2e8d9709",null).exports,W={name:"getPosition",props:{existlist:{type:Array,default:function(){return[]}},titlename:{type:String,default:""},showAdd:{type:Boolean,default:!1}},data:function(){return{inputvlue:"",checked:!0,tempexist:this.existlist}},created:function(){},methods:{closeSelf:function(){this.$emit("closeposition")},seveData:function(){this.$emit("getsearch",this.existlist),this.closeSelf()}}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"showmap"}),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"bottoming"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"more common"},[e("span",[this._v("确定")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"optioncont"},[e("div",{staticClass:"options"})])}]};var N=i("VU/8")(W,H,!1,function(t){i("3jiA")},"data-v-557b019e",null).exports,U={name:"deductionType",props:{existdata:{type:Object,default:function(){}},deductionType:{type:Array,default:function(){return[{name:"不扣除",ischeck:!0},{name:"指定休息时间",ischeck:!1},{name:"按加班时长扣除",ischeck:!1}]}},titlename:{type:String,default:"加班休息扣除方式"}},data:function(){return{isEditTime:!1,isEditDuc:!1,inputDeduction:"0",timeType:"",dctType:"",tempexist:this.existdata}},created:function(){this.initModal()},components:{timePicker:w,inputModal:l.a},methods:{initModal:function(){for(var t=0;t<this.deductionType.length;t++)this.deductionType[t].name===this.tempexist.name?this.deductionType[t].ischeck=!0:this.deductionType[t].ischeck=!1},closeSelf:function(){this.$emit("closededuction")},saveDeduction:function(){this.$emit("getdeduction",this.tempexist),this.closeSelf()},changeDeduType:function(t){this.tempexist.name=t.name;for(var e=0;e<this.deductionType.length;e++)this.deductionType[e].name===t.name?this.deductionType[e].ischeck=!0:this.deductionType[e].ischeck=!1},addDeduction:function(){var t="时间段"+(this.tempexist.deduction.length+1);this.tempexist.deduction.push({name:t,overHour:300,delHour:30})},delDeduction:function(t){this.tempexist.deduction.splice(this.tempexist.deduction.indexOf(t,1))},editTime:function(t){this.timeType=t,this.isEditTime=!this.isEditTime},getTime:function(t){"stime"===this.timeType?this.tempexist.restTime.startTime=t:this.tempexist.restTime.endTime=t},closeTime:function(){this.isEditTime=!this.isEditTime},editDeduction:function(t){this.dctType=t,this.isEditDuc=!this.isEditDuc},getDeduction:function(t){"otime"===this.dctType?this.tempexist.deduction.overHour=t:this.tempexist.deduction.delHour=t},closeDeduction:function(){this.isEditDuc=!this.isEditDuc}}},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:t.saveDeduction}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"commonpiece"},t._l(t.deductionType,function(e,s){return i("div",{key:s,staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(i){return t.changeDeduType(e)}}},[i("div",{staticClass:"titles",staticStyle:{width:"calc(95% - 20px)"}},[i("span",[t._v(t._s(e.name))])]),t._v(" "),e.ischeck?i("i",{staticClass:"fa fastyle fa-check",staticStyle:{margin:"auto","margin-right":"10px"}}):t._e()])}),0),t._v(" "),"指定休息时间"===t.tempexist.name?i("div",{staticClass:"commonpiece"},[t._m(0),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editTime("stime")}}},[t._m(1),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.restTime.startTime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editTime("etime")}}},[t._m(2),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.restTime.endTime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e(),t._v(" "),"按加班时长扣除"===t.tempexist.name?i("div",{staticClass:"contentbody",staticStyle:{height:"calc(100% - 181px)"}},t._l(t.tempexist.deduction,function(e,s){return i("div",{key:s,staticClass:"commonpiece"},[i("div",{staticClass:"delitem"},[1===t.tempexist.deduction.length?i("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[t._v("扣除条件")]):t._e(),t._v(" "),t.tempexist.deduction.length>1?i("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[t._v("扣除条件"+t._s(s+1))]):t._e(),t._v(" "),t.tempexist.deduction.length>1?i("span",{staticStyle:{margin:"auto 10px auto auto","font-size":"small"},on:{click:function(i){return t.delDeduction(e)}}},[t._v("删除")]):t._e()]),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDeduction("otime")}}},[t._m(3,!0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.overHour)+"分钟")])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDeduction("dtime")}}},[t._m(4,!0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.delHour)+"分钟")])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]),t._v(" "),s===t.tempexist.deduction.length-1?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:t.addDeduction}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"large",margin:"auto 0px 5px 25px"}}),t._v(" "),i("span",{staticStyle:{"padding-left":"10px",margin:"auto 0px 5px 0px"}},[t._v("添加")])]):t._e()])}),0):t._e()]),t._v(" "),t.isEditTime?i("time-picker",{on:{savetime:t.getTime,closepicker:t.closeTime}}):t._e(),t._v(" "),t.isEditDuc?i("input-modal",{attrs:{titlename:"输入时长",onlyNum:!0,inputtxt:t.inputDeduction},on:{getinput:t.getDeduction,closeinput:t.closeDeduction}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"delitem"},[e("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[this._v("休息时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("开始")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("结束")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("加班满")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("对应扣除")])])}]};var P=i("VU/8")(U,V,!1,function(t){i("q7dn")},"data-v-7962f666",null).exports,F={name:"overRule",props:{existlist:{type:Object,default:function(){}},overType:{type:Array,default:function(){return[]}},titlename:{type:String,default:"加班规则"}},data:function(){return{showOvertyoe:!1,showFactor:!0,showTimefactor:!0,showDuration:!1,inputDuration:"0",durationType:"",showDeduction:!1,deductionData:{},deductionType:"",tempexist:this.existlist}},created:function(){this.initModal()},components:{selectModal:n,inputModal:l.a,deductionType:P},methods:{initModal:function(){"以加班申请为准"===this.tempexist.type&&(this.showFactor=!1)},closeSelf:function(){this.$emit("closeover")},saveOver:function(){this.$emit("getover",this.tempexist),this.closeSelf()},isOver:function(t){"day"===t&&(this.tempexist.dayWork.isOver=!this.tempexist.dayWork.isOver),"holiday"===t&&(this.tempexist.holiday.isOver=!this.tempexist.holiday.isOver)},editOvertyoe:function(){this.showOvertyoe=!this.showOvertyoe},getOverType:function(t){this.tempexist.type=t,"以加班申请为准"===this.tempexist.type&&(this.showFactor=!1,this.showTimefactor=!1),"以打卡时间为准"===this.tempexist.type&&(this.showFactor=!0,this.showTimefactor=!0),"以加班申请核算打卡记录"===this.tempexist.type&&(this.showFactor=!0,this.showTimefactor=!1)},closeType:function(){this.showOvertyoe=!this.showOvertyoe},editDuration:function(t){this.durationType=t,this.showDuration=!this.showDuration},getDuration:function(t){"dstime"===this.durationType?this.tempexist.dayWork.startTime=t:"dxtime"===this.durationType?this.tempexist.dayWork.maxTime=t:"dntime"===this.durationType?this.tempexist.dayWork.minTime=t:"hxtime"===this.durationType?this.tempexist.holiday.maxTime=t:"hntime"===this.durationType&&(this.tempexist.holiday.minTime=t)},closeDuration:function(){this.showDuration=!this.showDuration},editDeduction:function(t){this.deductionType=t,"wday"===this.deductionType?this.deductionData=this.tempexist.dayWork.restType:this.deductionData=this.tempexist.holiday.restType,this.showDeduction=!this.showDeduction},getDeduction:function(t){"wday"===this.deductionType?this.tempexist.dayWork.restType=t:this.tempexist.holiday.restType=t},closeDeduction:function(){this.showDeduction=!this.showDeduction}}},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:t.saveOver}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.editOvertyoe}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.type))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),t.showFactor?i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"}},[t._m(1),t._v(" "),t.tempexist.dayWork.isOver?i("i",{staticClass:"fa fastyle fa-toggle-on",staticStyle:{"margin-right":"5%"},on:{click:function(e){return t.isOver("day")}}}):t._e(),t._v(" "),t.tempexist.dayWork.isOver?t._e():i("i",{staticClass:"fa fastyle fa-toggle-off",staticStyle:{"margin-right":"5%"},on:{click:function(e){return t.isOver("day")}}})]),t._v(" "),t.tempexist.dayWork.isOver?i("div",{staticStyle:{width:"100%"}},[t.showTimefactor?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDuration("dstime")}}},[t._m(2),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v("下班后"+t._s(t.tempexist.dayWork.startTime)+"分钟")])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e(),t._v(" "),t.showTimefactor?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDuration("dntime")}}},[t._m(3),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.dayWork.minTime)+"分钟")])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e(),t._v(" "),t.showTimefactor?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDuration("dxtime")}}},[t._m(4),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.dayWork.maxTime)+"分钟")])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e(),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDeduction("wday")}}},[t._m(5),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.dayWork.restType.name))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e()]):t._e(),t._v(" "),t.showFactor?i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"}},[t._m(6),t._v(" "),t.tempexist.holiday.isOver?i("i",{staticClass:"fa fastyle fa-toggle-on",staticStyle:{"margin-right":"5%"},on:{click:function(e){return t.isOver("holiday")}}}):t._e(),t._v(" "),t.tempexist.holiday.isOver?t._e():i("i",{staticClass:"fa fastyle fa-toggle-off",staticStyle:{"margin-right":"5%"},on:{click:function(e){return t.isOver("holiday")}}})]),t._v(" "),t.tempexist.holiday.isOver?i("div",{staticStyle:{width:"100%"}},[t.showTimefactor?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDuration("hntime")}}},[t._m(7),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.holiday.minTime)+"分钟")])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e(),t._v(" "),t.showTimefactor?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDuration("hxtime")}}},[t._m(8),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.holiday.maxTime)+"分钟")])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e(),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editDeduction("hday")}}},[t._m(9),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.holiday.restType.name))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e()]):t._e(),t._v(" "),t.showOvertyoe?i("select-modal",{attrs:{selection:t.overType,titlename:"加班方式"},on:{gettype:t.getOverType,closeme:t.closeType}}):t._e(),t._v(" "),t.showDuration?i("input-modal",{attrs:{titlename:"输入时长",onlyNum:!0,inputtxt:t.inputDuration},on:{getinput:t.getDuration,closeinput:t.closeDuration}}):t._e(),t._v(" "),t.showDeduction?i("deduction-type",{attrs:{existdata:t.deductionData},on:{getdeduction:t.getDeduction,closededuction:t.closeDeduction}}):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("加班方式")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("允许工作日加班")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("加班开始时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("最短加班时长")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("最长加班时长")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("加班休息扣除方式")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("允许非工作日加班")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("最短加班时长")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("最长加班时长")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("加班休息扣除方式")])])}]};var z=i("VU/8")(F,B,!1,function(t){i("kWHk")},"data-v-0f0a71c5",null).exports,j={name:"remind",props:{existData:{type:Object,default:function(){}},titlename:{type:String,default:"提醒设置"}},data:function(){return{inputTime:"0",isEditTime:!1,remindType:"",tempexist:this.existData}},created:function(){},components:{inputModal:l.a},methods:{closeSelf:function(){this.$emit("closeremind")},saveRemind:function(){this.$emit("getremind",this.tempexist),this.closeSelf()},editRemindTime:function(t){this.remindType=t,this.isEditTime=!this.isEditTime},getRemindTime:function(t){"stime"===this.remindType?this.tempexist.workRemind=parseInt(t):this.tempexist.offWorkRemind=parseInt(t)},closeRemindTime:function(){this.isEditTime=!this.isEditTime}}},Y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:t.saveRemind}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:function(e){return t.editRemindTime("stime")}}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(0),t._v(" "),i("div",{staticClass:"descrip"},[0!==t.tempexist.workRemind?i("span",{staticClass:"spanstyle"},[t._v("上班前"+t._s(t.tempexist.workRemind)+"分钟")]):t._e(),t._v(" "),0===t.tempexist.workRemind?i("span",{staticClass:"spanstyle"},[t._v("上班准点")]):t._e()]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:function(e){return t.editRemindTime("xtime")}}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(1),t._v(" "),i("div",{staticClass:"descrip"},[0===t.tempexist.offWorkRemind?i("span",{staticClass:"spanstyle"},[t._v("下班准点")]):t._e(),t._v(" "),0!==t.tempexist.offWorkRemind?i("span",{staticClass:"spanstyle"},[t._v("下班后"+t._s(t.tempexist.offWorkRemind)+"分钟")]):t._e()]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])])]),t._v(" "),t.isEditTime?i("input-modal",{attrs:{titlename:"输入时长",onlyNum:!0,inputtxt:t.inputTime},on:{getinput:t.getRemindTime,closeinput:t.closeRemindTime}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("上班提醒")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("下班提醒")])])}]};var q=i("VU/8")(j,Y,!1,function(t){i("HXrd")},"data-v-623fc2d9",null).exports,K=i("AIn+"),Z={name:"dateSelect",props:{existdate:{type:String,default:""}},data:function(){return{date:""}},watch:{},components:{Calendar:K.a},methods:{closeSelf:function(){this.$emit("closedate")},saveDate:function(){this.$emit("getdate",this.date),this.closeSelf()},getSelectDate:function(t){this.date=t.date}}},Q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop",staticStyle:{"background-color":"rgba(0,0,0,.3)"},on:{click:t.closeSelf}},[i("div",{staticClass:"modal-calendar",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"modal-header",staticStyle:{padding:"10px",display:"inline-flex"}},[i("div",{staticClass:"black",on:{click:t.closeSelf}},[i("span",[t._v("取消")])]),t._v(" "),i("div",{staticClass:"title"}),t._v(" "),i("div",{staticClass:"more",on:{click:t.saveDate}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"modal-body",staticStyle:{padding:"0"}},[i("Calendar",{on:{transferDay:t.getSelectDate}})],1)])])},staticRenderFns:[]};var J=i("VU/8")(Z,Q,!1,function(t){i("jjBS")},null,null).exports,G={name:"settingDay",props:{existData:{type:Object,default:function(){}}},data:function(){return{titlename:"编辑时间",isEdiDate:!1,isEditTime:!1,editTimeData:{},editTimeType:"",isEditCause:!1,cause:"",tempexist:this.existData}},created:function(){},components:{dateSelect:J,timePicker:w,inputModal:l.a},methods:{closeSelf:function(){this.$emit("closeday")},saveDay:function(t){this.$emit("getday",this.tempexist),this.closeSelf()},addWorkTime:function(){var t="时间段"+(this.tempexist.workTime.length+1);this.tempexist.workTime.push({name:t,starttime:"09:00",endtime:"18:00"})},delWorkTime:function(t){this.tempexist.workTime.splice(this.tempexist.workTime.indexOf(t,1))},editDate:function(){this.isEdiDate=!this.isEdiDate},getDate:function(t){this.tempexist.day=t},closeDate:function(){this.isEdiDate=!this.isEdiDate},editTime:function(t,e){this.editTimeData=t,this.editTimeType=e,this.isEditTime=!this.isEditTime},getTime:function(t){for(var e=0;e<this.tempexist.workTime.length;e++)if(this.tempexist.workTime[e].name===this.editTimeData.name){"start"===this.editTimeType?this.tempexist.workTime[e].starttime=t:this.tempexist.workTime[e].endtime=t;break}},closeTime:function(){this.isEditTime=!this.isEditTime},editCause:function(){this.isEditCause=!this.isEditCause},getCause:function(t){this.tempexist.desc=t},closeCause:function(){this.isEditCause=!this.isEditCause}}},X={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:t.saveDay}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"contentbody"},[i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:t.editDate}},[t._m(0),t._v(" "),i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex","text-overflow":"unset","overflow-x":"scroll"}},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.day))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),t._l(t.tempexist.workTime,function(e,s){return i("div",{key:s,staticClass:"commonpiece"},[i("div",{staticClass:"delitem"},[1===t.tempexist.workTime.length?i("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[t._v("上下班时间段")]):t._e(),t._v(" "),t.tempexist.workTime.length>1?i("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[t._v("上下班时间段"+t._s(s+1))]):t._e(),t._v(" "),t.tempexist.workTime.length>1?i("span",{staticStyle:{margin:"auto 10px auto auto","font-size":"small"},on:{click:function(i){return t.delWorkTime(e)}}},[t._v("删除")]):t._e()]),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(i){return t.editTime(e,"start")}}},[t._m(1,!0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.starttime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(i){return t.editTime(e,"end")}}},[t._m(2,!0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.endtime))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]),t._v(" "),s===t.tempexist.workTime.length-1?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:t.addWorkTime}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"large",margin:"auto 0px 5px 25px"}}),t._v(" "),i("span",{staticStyle:{"padding-left":"10px",margin:"auto 0px 5px 0px"}},[t._v("添加")])]):t._e()])}),t._v(" "),i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:t.editCause}},[t._m(3),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.desc))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])])],2)]),t._v(" "),t.isEdiDate?i("date-select",{on:{getdate:t.getDate,closedate:t.closeDate}}):t._e(),t._v(" "),t.isEditTime?i("time-picker",{on:{savetime:t.getTime,closepicker:t.closeTime}}):t._e(),t._v(" "),t.isEditCause?i("input-modal",{attrs:{titlename:"事由",inputtxt:t.cause},on:{getinput:t.getCause,closeinput:t.closeCause}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("日期")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("上班")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("下班")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("事由")])])}]};var tt=i("VU/8")(G,X,!1,function(t){i("n26e")},"data-v-5a6df814",null).exports,et={name:"specialDay",props:{existData:{type:Object,default:function(){}},titlename:{type:String,default:"特殊日期"}},data:function(){return{notClockDay:[],clockDay:[],isEditDay:!1,specialDayData:{},dayType:"clock",tempexist:this.existData}},created:function(){},components:{settingDay:tt},methods:{closeSelf:function(){this.$emit("closehspday")},saveHspday:function(){this.$emit("gethspday",this.tempexist),this.closeSelf()},isClock:function(){this.tempexist.isHolidayClock=!this.tempexist.isHolidayClock},editDay:function(t){this.dayType=t,"clock"===this.dayType?this.specialDayData={day:"",desc:"",workTime:[{name:"时间段1",starttime:"08:00",endtime:"18:00"}]}:this.specialDayData={day:"",desc:""},this.isEditDay=!this.isEditDay},getDay:function(t){"clock"===this.dayType?this.clockDay.push(t):this.notClockDay.push(t)},closeDay:function(){this.isEditDay=!this.isEditDay}}},it={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:t.saveHspday}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"contentbody"},[i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(0),t._v(" "),t.tempexist.isHolidayClock?i("i",{staticClass:"fa fastyle fa-toggle-on",staticStyle:{"margin-right":"5%"},on:{click:t.isClock}}):t._e(),t._v(" "),t.tempexist.isHolidayClock?t._e():i("i",{staticClass:"fa fastyle fa-toggle-off",staticStyle:{"margin-right":"5%"},on:{click:t.isClock}})])]),t._v(" "),i("div",{staticClass:"commonpiece"},[t._m(1),t._v(" "),t._l(t.clockDay,function(t,e){return i("div",{key:e,staticClass:"titlehead"})}),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:function(e){return t.editDay("clock")}}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"large",margin:"auto 0px 5px 25px"}}),t._v(" "),i("span",{staticStyle:{"padding-left":"10px",margin:"auto 0px 5px 0px"}},[t._v("添加打卡时间")])])],2),t._v(" "),i("div",{staticClass:"commonpiece"},[t._m(2),t._v(" "),t._l(t.notClockDay,function(t,e){return i("div",{key:e,staticClass:"titlehead"})}),t._v(" "),i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:function(e){return t.editDay("unclock")}}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"large",margin:"auto 0px 5px 25px"}}),t._v(" "),i("span",{staticStyle:{"padding-left":"10px",margin:"auto 0px 5px 0px"}},[t._v("添加打卡时间")])])],2)])]),t._v(" "),t.isEditDay?i("setting-day",{attrs:{existData:t.specialDayData},on:{getday:t.getDay,closeday:t.closeDay}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("法定节假日不用打卡")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"delitem"},[e("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[this._v("必须打卡的日期")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"delitem"},[e("span",{staticStyle:{margin:"auto auto auto 20px","font-size":"small"}},[this._v("不用打卡的日期")])])}]};var st=i("VU/8")(et,it,!1,function(t){i("TxqH")},"data-v-1362db9c",null).exports,at={name:"moreSetting",props:{existlist:{type:Object,default:function(){}},titlename:{type:String,default:""}},data:function(){return{showList:!1,hasUser:!1,listType:"",userList:[],showRemind:!1,remindData:{},showHspday:!1,hspdayDate:{},showBoder:!1,inputCount:"0",countType:"",isEditCount:!1,tempexist:this.existlist}},created:function(){},components:{searchModal:c.a,remind:q,timePicker:w,specialDay:st,inputModal:l.a},methods:{closeSelf:function(){this.$emit("closemore")},saveSet:function(){this.$emit("getmore",this.tempexist),this.closeSelf()},isApply:function(){this.tempexist.isApplyRcard=!this.tempexist.isApplyRcard},editUser:function(t){this.listType=t,"report"===t&&(this.userList=this.tempexist.reportTo),"white"===t&&(this.userList=this.tempexist.whitelist),0===this.userList.length?this.hasUser=!0:this.hasUser=!1,this.showList=!this.showList},getUser:function(t){"report"===this.listType&&(this.tempexist.reportTo=t),"white"===this.listType&&(this.tempexist.whitelist=t)},closeUser:function(){this.showList=!this.showList},editRemind:function(){this.remindData=this.tempexist.remind,this.showRemind=!this.showRemind},getRemind:function(){},closeRemind:function(){this.showRemind=!this.showRemind},editBoder:function(){this.showBoder=!this.showBoder},getBoder:function(t){this.tempexist.workBorder=t},closeBoder:function(){this.showBoder=!this.showBoder},editCount:function(t){this.countType=t,this.isEditCount=!this.isEditCount},getCount:function(t){"dcount"===this.countType?this.tempexist.rcardTimeLimit=parseInt(t):this.tempexist.rcardCount=parseInt(t)},closeCount:function(){this.isEditCount=!this.isEditCount},editHspday:function(){this.hspdayDate=this.tempexist.hspDay,this.showHspday=!this.showHspday},getHspday:function(t){this.hspdayDate=t},closeFspday:function(){this.showHspday=!this.showHspday}}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:t.saveSet}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:function(e){return t.editUser("report")}}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(0),t._v(" "),i("div",{staticClass:"descrip"},[t._l(t.tempexist.reportTo,function(e,s){return i("div",{key:s},[i("span",{staticClass:"spanstyle"},[t._v(t._s(e.name))])])}),t._v(" "),0===t.tempexist.reportTo.length?i("span",{staticClass:"spanstyle"},[t._v("未设置")]):t._e()],2),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:function(e){return t.editUser("white")}}},[t._m(1)]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.editRemind}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(2),t._v(" "),i("div",{staticClass:"descrip"},[0!==t.tempexist.remind.workRemind?i("span",{staticClass:"spanstyle"},[t._v("上班前"+t._s(t.tempexist.remind.workRemind)+"分钟,")]):t._e(),t._v(" "),0===t.tempexist.remind.workRemind?i("span",{staticClass:"spanstyle"},[t._v("上班准点,")]):t._e(),t._v(" "),0===t.tempexist.remind.offWorkRemind?i("span",{staticClass:"spanstyle"},[t._v("下班准点")]):t._e(),t._v(" "),0!==t.tempexist.remind.offWorkRemind?i("span",{staticClass:"spanstyle"},[t._v("下班后"+t._s(t.tempexist.remind.offWorkRemind)+"分钟")]):t._e()]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:t.editHspday}},[t._m(3),t._v(" "),i("div",{staticClass:"shortdescrip"}),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.editBoder}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(4),t._v(" "),i("div",{staticClass:"shortdescrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.workBorder))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"}},[t._m(5),t._v(" "),t.tempexist.isApplyRcard?i("i",{staticClass:"fa fastyle fa-toggle-on",staticStyle:{"margin-right":"5%"},on:{click:t.isApply}}):t._e(),t._v(" "),t.tempexist.isApplyRcard?t._e():i("i",{staticClass:"fa fastyle fa-toggle-off",staticStyle:{"margin-right":"5%"},on:{click:t.isApply}})]),t._v(" "),t.tempexist.isApplyRcard?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%","border-bottom":"1px solid #eee"},on:{click:function(e){return t.editCount("dcount")}}},[t._m(6),t._v(" "),i("div",{staticClass:"shortdescrip"},[0===t.tempexist.rcardTimeLimit?i("span",{staticClass:"spanstyle"},[t._v("不限制")]):t._e(),t._v(" "),0!==t.tempexist.rcardTimeLimit?i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.rcardTimeLimit)+"天")]):t._e()]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e(),t._v(" "),t.tempexist.isApplyRcard?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"},on:{click:function(e){return t.editCount("count")}}},[t._m(7),t._v(" "),i("div",{staticClass:"shortdescrip"},[0===t.tempexist.rcardCount?i("span",{staticClass:"spanstyle"},[t._v("不限制")]):t._e(),t._v(" "),0!==t.tempexist.rcardCount?i("span",{staticClass:"spanstyle"},[t._v(t._s(t.tempexist.rcardCount)+"次")]):t._e()]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})]):t._e()])]),t._v(" "),t.showList?i("search-modal",{attrs:{titlename:"请选择",showAdd:t.hasUser,existlist:t.userList},on:{getsearch:t.getUser,closesearch:t.closeUser}}):t._e(),t._v(" "),t.showRemind?i("remind",{attrs:{existData:t.remindData},on:{getremind:t.getRemind,closeremind:t.closeRemind}}):t._e(),t._v(" "),t.showBoder?i("time-picker",{on:{savetime:t.getBoder,closepicker:t.closeBoder}}):t._e(),t._v(" "),t.showHspday?i("special-day",{attrs:{existData:t.hspdayDate},on:{gethspday:t.getHspday,closehspday:t.closeFspday}}):t._e(),t._v(" "),t.isEditCount?i("input-modal",{attrs:{titlename:"请输入",onlyNum:!0,inputtxt:t.inputCount},on:{getinput:t.getCount,closeinput:t.closeCount}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("汇报对象")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[e("div",{staticClass:"titles"},[e("span",[this._v("白名单")])]),this._v(" "),e("div",{staticClass:"descrip"},[e("span",{staticClass:"spanstyle"},[this._v("未设置")])]),this._v(" "),e("i",{staticClass:"fa fastyle fa-angle-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("提醒")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("节假日与特殊日期")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("上下班界定")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("允许提交补卡申请")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("允许补卡时限")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"langtitles"},[e("span",[this._v("每月允许补卡次数")])])}]};var lt=i("VU/8")(at,nt,!1,function(t){i("5KgA")},"data-v-21e9179a",null).exports,ct={name:"addrule",data:function(){return{msg:"添加规则",ruletpye:"固定上下班",rulename:"上下班规则",typerule:"fixed",showModal:!1,showInput:!1,showSearch:!1,showTime:!1,showRule:!1,showDay:!1,showData:!1,showShift:!1,showPosition:!1,showOver:!1,showMoreset:!1,isexist:!0,ruletype:[{id:1,name:"固定上下班",desc:"所有人按照相同时间打卡",selected:!0},{id:2,name:"按班次上下班",desc:"不同人员按照各自排班打卡",selected:!1},{id:3,name:"自由上下班",desc:"无时间限制，可随时打卡，只统计矿工",selected:!1}],existlist:[{name:"部门二",isdepantment:!0,ischecked:!0,id:2},{name:"员工一",isdepantment:!1,ischecked:!0,di:3},{name:"员工二",isdepantment:!1,ischecked:!0,id:4}],workDay:[{dayname:"星期一",ischeck:!0},{dayname:"星期二",ischeck:!0},{dayname:"星期三",ischeck:!0},{dayname:"星期四",ischeck:!0},{dayname:"星期五",ischeck:!0},{dayname:"星期六",ischeck:!1},{dayname:"星期日",ischeck:!1}],weekDay:"",workTime:[{name:"时间段一",starttime:"09:00",endtime:"18:00"}],restTime:[{name:"rest",starttime:"12:00",endtime:"13:00"}],moreFactor:{reportTo:[],whitelist:[],remind:{workRemind:0,offWorkRemind:0},hspDay:{ruletype:"",isHolidayClock:!0,notClockDay:[{day:"",desc:""}],clockDay:[{day:"",desc:"",workTime:[{name:"",startTime:"",endtime:""}]}]},isApplyRcard:!0,rcardTimeLimit:0,rcardCount:0,workBorder:"12:00"},overWork:[{name:"以加班申请为准",desc:"加班申请通过后，直接记录为加班时长",selected:!0},{name:"以打卡时间为准",desc:"根据打卡时间自动计算加班时长",selected:!1},{name:"以加班申请核算打卡记录",desc:"打卡后，根据加班申请核算加班时长",selected:!1}],overTime:{type:"以加班申请为准",dayWork:{isOver:!1,maxTime:240,minTime:60,startTime:30,restType:{name:"不扣除",restTime:{startTime:"12:00",endTime:"13:00"},deduction:[{name:"扣除条件1",overHour:300,delHour:30}]}},holiday:{isOver:!1,maxTime:240,minTime:60,restType:{name:"不扣除",restTime:{startTime:"12:00",endTime:"13:00"},deduction:[{name:"扣除条件1",overHour:300,delHour:30}]}}},workPlace:[{name:"木星"},{name:"火星"}],workRule:[],shiftList:[],shiftCycle:[],shiftRule:[],shiftCont:{},rulePosition:[],ruleData:{id:null,ruleName:"",ruleType:"固定上下班",lateSign:1,expiration:"不限制",lateSignCount:30,remind:0,offWorkRemind:null,workRemind:"十分钟",split:"12:00",workDay:"",overTime:{id:null,type:"按打卡时间",starTtime:null,shortest:null,longest:null,restStart:null,restEnd:null,ruleId:null,deductionName:null,overHour:null,deductHour:null},special:{id:null,holiday:1,noAttendanceDay:[{date:"",reason:"",id:null,type:0}],attendanceDay:[{date:"",reason:"",id:null,type:1,workTime:[{id:"",startTime:"08:00",endTime:"18:00",target:null,scheduleId:0,overWorkId:0,shiftId:0}]}]},schedule:[{id:null,restStart:"12:00",day:"星期一 星期二 星期三 星期四 星期五",restEnd:"14:00",workTime:[{id:null,startTime:"14:49",endTime:"14:49"}]}],shift:[{id:null,restStart:"12:00",name:"",restEnd:"14:00",workTime:[{id:null,startTime:"08:00",endTime:"18:00"}]}],shiftCycle:[],shiftRule:[],places:[{id:"",name:"",location:"",longtitude:null,latitude:null,range:"300",ruleId:null}],whiteList:[],attendance:{users:[],departs:[]},supervisors:[]}}},created:function(){this.initData()},beforeCreate:function(){},components:{selectModal:n,inputModal:l.a,searchModal:c.a,timeModal:$,dataList:R,shiftSetting:A,mselectModal:d,getPosition:N,overRule:z,moreSetting:lt},methods:{initData:function(){var t=this,e=this.$route.params.editData;null===e.id?(this.ruleData=this.$route.params.editData,this.ruletpye=this.ruleData.ruleType):this.$axios.get("/api/rule/findRuleInfo/"+e.id).then(function(e){e.data.flag&&(t.ruleData=e.data.data,t.ruletpye=t.ruleData.ruleType),console.log(e)})},goBackThing:function(){this.$router.push("/rule")},saveRule:function(){alert("保存数据")},goSearch:function(){this.$router.push("/search")},toggleModal:function(){this.showModal=!this.showModal},getType:function(t){this.ruletpye=t,"固定上下班"===t&&(this.typerule="fixed"),"按班次上下班"===t&&(this.typerule="shift")},closeme:function(){this.showModal=!this.showModal},showInputModal:function(){this.showInput=!this.showInput},getInput:function(t){this.rulename=t},closeInput:function(){this.showInput=!this.showInput},showSearchModal:function(){console.log(this.existlist),console.log(this.existlist.length),0===this.existlist.length?this.isexist=!0:this.isexist=!1,this.showSearch=!this.showSearch},getSearch:function(t){this.existlist=t},closeSearch:function(){this.showSearch=!this.showSearch},showTimeModal:function(){this.showTime=!this.showTime},getTime:function(t){this.workDay=t.day,this.workTime=t.time,this.restTime=t.rest},closeTimeModal:function(){this.showTime=!this.showTime},showDayModal:function(){this.showDay=!this.showDay},getDay:function(t){this.workDay=t},closeDay:function(){this.showDay=!this.showDay},showDataList:function(t){this.typerule=t,this.workRule=[];for(var e="",i=0;i<this.workDay.length;i++)this.workDay[i].ischeck&&(e=e+" "+this.workDay[i].dayname);this.workRule.push({weekDay:e,workTime:this.workTime,restTime:this.restTime}),this.showData=!this.showData},getdataList:function(t){this.workRule=t},closeDataList:function(){this.showData=!this.showData},position:function(){this.showPosition=!this.showPosition},getPosition:function(t){this.rulePosition=t},closePosition:function(){this.showPosition=!this.showPosition},shiftSet:function(){this.typerule="shfit",this.shiftCont={shiftlist:this.shiftList,shiftcycle:this.shiftCycle,shiftrule:this.shiftRule},this.showShift=!this.showShift},getShift:function(t){this.shiftList=t.shiftlist,this.shiftCycle=t.shiftcycle,this.shiftRule=t.shiftrule},closeShift:function(){this.showShift=!this.showShift},editOver:function(){this.showOver=!this.showOver},getOver:function(t){this.overTime=t},closeOver:function(){this.showOver=!this.showOver},moreSet:function(){this.moreFactor=this.ruleData.moreFactor,this.showMoreset=!this.showMoreset},getMoreset:function(t){this.ruleData.moreFactor=t},closeMore:function(){this.showMoreset=!this.showMoreset}}},ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.goBackThing}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.msg))]),t._v(" "),i("div",{staticClass:"more common"},[i("i",{staticClass:"fa fa-floppy-o",on:{click:t.saveRule}})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.toggleModal}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(0),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.ruleData.ruleType))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("transition",{attrs:{name:"slide-fade"}},[t.showModal?i("select-modal",{attrs:{selection:t.ruletype,titlename:"规则类型"},on:{gettype:t.getType,closeme:t.closeme}}):t._e()],1),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.showInputModal}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(1),t._v(" "),i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.ruleData.ruleName))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.showSearchModal}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(2),t._v(" "),i("div",{staticClass:"descrip"},[t._l(t.ruleData.attendance.departs,function(e,s){return i("span",{key:"d"+s,staticClass:"spanstyle"},[t._v(t._s(e.name))])}),t._v(" "),t._l(t.ruleData.attendance.users,function(e,s){return i("span",{key:"u"+s,staticClass:"spanstyle"},[t._v(t._s(e.name))])})],2),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),"固定上下班"===t.ruletpye?i("div",{staticClass:"commonpiece",on:{click:function(e){return t.showDataList("fixed")}}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(3),t._v(" "),0===t.ruleData.schedule.length?i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex","text-overflow":"unset","overflow-x":"scroll"}},[t._m(4)]):t._e(),t._v(" "),t.ruleData.schedule.length>0?i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex","text-overflow":"unset","overflow-x":"scroll"}},t._l(t.ruleData.schedule.workTime,function(e,s){return i("div",{key:s},[i("span",{staticClass:"spanstyle"},[t._v("工作日 "+t._s(e.startTime)+"~"+t._s(e.endTime))])])}),0):t._e(),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e(),t._v(" "),"自由上下班"===t.ruletpye?i("div",{staticClass:"commonpiece",on:{click:t.showDayModal}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(5),t._v(" "),""===t.ruleData.weekDay?i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex","text-overflow":"unset","overflow-x":"scroll"}},[i("span",{staticClass:"spanstyle"},[t._v("未设置")])]):t._e(),t._v(" "),""!=t.ruleData.weekDay?i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex","text-overflow":"unset","overflow-x":"scroll"}},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.ruleData.weekDay))])]):t._e(),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e(),t._v(" "),"按班次上下班"===t.ruletpye?i("div",{staticClass:"commonpiece",on:{click:t.shiftSet}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(6),t._v(" "),t.ruleData.shift.length>0?i("div",{staticClass:"descrip"},t._l(t.ruleData.shift,function(e,s){return i("span",{key:s,staticClass:"spanstyle"},[t._v(t._s(e.name))])}),0):t._e(),t._v(" "),0===t.ruleData.shift.length?i("div",{staticClass:"descrip"},[i("span",{staticClass:"spanstyle"},[t._v("未设置")])]):t._e(),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]):t._e(),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.position}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(7),t._v(" "),i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex"}},[0===t.ruleData.places.length?i("span",{staticClass:"spanstyle"},[t._v("未设置")]):t._e(),t._v(" "),1===t.ruleData.places.length?i("span",{staticClass:"spanstyle"},[t._v(t._s(t.ruleData.places[0].name))]):t._e(),t._v(" "),t.ruleData.places.length>1?i("span",{staticClass:"spanstyle"},[t._v(t._s(t.ruleData.places[0].name)+"等"+t._s(t.ruleData.places.length)+"个地点")]):t._e()]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.editOver}},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t._m(8),t._v(" "),i("div",{staticClass:"descrip",staticStyle:{display:"inline-flex"}},[i("span",{staticClass:"spanstyle"},[t._v(t._s(t.ruleData.overTime.type))])]),t._v(" "),i("i",{staticClass:"fa fastyle fa-angle-right"})])]),t._v(" "),i("div",{staticClass:"commonpiece",on:{click:t.moreSet}},[t._m(9)]),t._v(" "),t.showInput?i("input-modal",{attrs:{titlename:"规则名称",inputtxt:t.rulename},on:{getinput:t.getInput,closeinput:t.closeInput}}):t._e(),t._v(" "),t.showSearch?i("search-modal",{attrs:{titlename:"打卡人员列表",showAdd:t.isexist,existlist:t.existlist},on:{getsearch:t.getSearch,closesearch:t.closeSearch}}):t._e(),t._v(" "),t.showDay?i("mselect-modal",{attrs:{selection:t.workDay,titlename:"工作日"},on:{getday:t.getDay,closeday:t.closeDay}}):t._e(),t._v(" "),t.showData?i("data-list",{attrs:{titlename:"打卡时间",existlist:t.workRule,dataType:t.typerule},on:{getdata:t.getdataList,closelist:t.closeDataList}}):t._e(),t._v(" "),t.showShift?i("shift-setting",{attrs:{titlename:"排班设置",existlist:t.shiftCont,dataType:t.typerule},on:{getshift:t.getShift,closeshift:t.closeShift}}):t._e(),t._v(" "),t.showPosition?i("get-position",{attrs:{existlist:t.position},on:{getposition:t.getPosition,closeposition:t.closePosition}}):t._e(),t._v(" "),t.showOver?i("over-rule",{attrs:{existlist:t.overTime,overType:t.overWork},on:{getover:t.getOver,closeover:t.closeOver}}):t._e(),t._v(" "),t.showMoreset?i("more-setting",{attrs:{existlist:t.moreFactor,titlename:"更多设置"},on:{getmore:t.getMoreset,closemore:t.closeMore}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("规则类型")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("规则名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("打卡人员")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("打卡时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"spanstyle"},[this._v("未设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("工作日")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("排班设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("打卡位置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titles"},[e("span",[this._v("加班规则")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[e("div",{staticClass:"titles"},[e("span",[this._v("更多设置")])]),this._v(" "),e("div",{staticClass:"descrip"}),this._v(" "),e("i",{staticClass:"fa fastyle fa-angle-right"})])}]};var rt=i("VU/8")(ct,ot,!1,function(t){i("vQOi")},"data-v-2ffadc3b",null);e.default=rt.exports},Orfh:function(t,e){},Pbg6:function(t,e){},SL1L:function(t,e){},TxqH:function(t,e){},VQuV:function(t,e){},Zrlr:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},aK3q:function(t,e,i){"use strict";var s={name:"searchModal",props:{existlist:{type:Object,default:function(){}},titlename:{type:String,default:""},onlyUser:{type:Boolean,default:!1},showAdd:{type:Boolean,default:!1}},data:function(){return{inputvlue:"",checked:!0,datalist:[{name:"部门一",isdepantment:!0,ischecked:!1,id:1},{name:"部门二",isdepantment:!0,ischecked:!1,id:2},{name:"员工一",isdepantment:!1,ischecked:!1,di:3},{name:"员工二",isdepantment:!1,ischecked:!1,id:4}],depatmentlist:[{name:"通讯录",isdepantment:!1,id:0}],isedit:!1,showDel:!1,issearch:!1,showadd:!0,isshowExist:!1,parentChecked:!1,parentCheckedID:[],tempexist:this.existlist,departAndUser:[],optionData:{},deparstId:[],usersId:[]}},created:function(){this.initData()},methods:{initData:function(){for(var t=0;t<this.existlist.departs.length;t++)this.deparstId.push(this.existlist.departs[t].departmentId),this.departAndUser.push(this.existlist.departs[t]);for(var e=0;e<this.existlist.users.length;e++)this.usersId.push(this.existlist.users[e].employeeId),this.departAndUser.push(this.existlist.users[e]);this.departAndUser.length>0&&(this.isshowExist=!0,this.showadd=!1),this.getOptions("")},closeSelf:function(){this.$emit("closesearch")},addDate:function(){this.isshowExist=!1,this.isedit=!1,this.showadd=!0},seveData:function(){this.$emit("getsearch",this.existlist),this.closeSelf()},clearSearch:function(){this.inputvlue=""},saveSearch:function(t){this.isedit=!this.isedit,this.existlist=this.tempexist},getSearchOptions:function(t){var e=this;this.$axios.get("/groupApi/depart/userAndDepart/Search/",{params:{searchKey:"",type:"group"}}).then(function(t){t.data.flag&&(e.optionData=t.data.data),console.log(t)})},getOptions:function(t){var e=this,i=void 0;i=""===t?{departOnly:!1,type:"group"}:{departOnly:!1,parentId:t,type:"group"},this.$axios.get("/groupApi/depart/findNextDepAndEmp/",{params:i}).then(function(t){t.data.flag&&(e.optionData=t.data.data),console.log(t)})},editList:function(){this.isedit=!this.isedit},goSearch:function(){this.issearch=!this.issearch},getDepartment:function(t){console.log(t);for(var e=[],i=0;i<this.depatmentlist.length;i++){if(this.depatmentlist[i].id===t.id){e.push(this.depatmentlist[i]);break}e.push(this.depatmentlist[i])}this.depatmentlist=e,this.getOptions(t.departmentId)},getNextLevel:function(t){console.log(t),0===t?(console.log("11111111111"),this.parentChecked=!1,this.parentCheckedID=[],this.getOptions("")):(this.parentChecked&&this.parentCheckedID.push(t.departmentId),this.deparstId.indexOf(t.departmentId)>-1&&(this.parentCheckedID.push(t.departmentId),this.parentChecked=!0),-1===this.parentCheckedID.indexOf(t.departmentId)&&this.parentChecked&&(this.parentChecked=!0),this.depatmentlist.push(t),this.getOptions(t.departmentId))},changeCheckDel:function(t,e){"depart"===e?(this.tempexist.departs.splice(this.tempexist.departs.indexOf(t,1)),this.deparstId.splice(this.deparstId.indexOf(t.departmentId,1))):(this.tempexist.users.splice(this.tempexist.users.indexOf(t,1)),this.usersId.splice(this.usersId.indexOf(t.employeeId,1)))},changeCheck:function(t,e){"depart"===e?(this.tempexist.departs.push(t),this.deparstId.push(t.departmentId)):(this.tempexist.users.push(t),this.usersId.push(t.employeeId))},delDate:function(t,e){"depart"===e?this.tempexist.departs.splice(this.tempexist.departs.indexOf(t.departmentId,1)):this.tempexist.users.splice(this.tempexist.users.indexOf(t.employeeId,1))}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),t.isedit?i("div",{staticClass:"more common",on:{click:function(e){return t.saveSearch(!1)}}},[i("span",[t._v("确定")])]):t._e(),t._v(" "),t.isshowExist&&!t.isedit?i("div",{staticClass:"more common",on:{click:t.editList}},[i("span",[t._v("编辑")])]):t._e()]),t._v(" "),t.showadd?i("div",{staticClass:"commonpiece"},[t.issearch?i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[i("div",{staticStyle:{width:"100%",display:"inline-flex"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputvlue,expression:"inputvlue"}],attrs:{id:"focusinput",checked:"",autocomplete:"off",placeholder:"搜索"},domProps:{value:t.inputvlue},on:{input:[function(e){e.target.composing||(t.inputvlue=e.target.value)},t.getSearchOptions]}}),t._v(" "),t.inputvlue?i("i",{staticClass:"fa fa-close fastyle",on:{click:t.clearSearch}}):t._e()]),t._v(" "),i("span",{staticStyle:{margin:"auto 10px auto auto","white-space":"nowrap"},on:{click:t.goSearch}},[t._v("取消")])]):t._e(),t._v(" "),t.issearch?t._e():i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%",height:"40px"},on:{click:t.goSearch}},[i("span",{staticStyle:{margin:"10px auto 10px auto","white-space":"nowrap",height:"40px"}},[t._v("搜索")])])]):t._e(),t._v(" "),t.showadd?i("div",{staticClass:"optioncont"},[i("div",{staticClass:"depatment"},t._l(t.depatmentlist,function(e,s){return i("span",{key:s,on:{click:function(i){return t.getDepartment(e)}}},[t._v("\n          "+t._s(e.name)+"\n          "),t.depatmentlist.length!==s+1?i("i",{staticClass:"fa fa-angle-right"}):t._e()])}),0),t._v(" "),i("div",{staticClass:"options"},[t._l(t.optionData.departs,function(e,s){return i("div",{key:"fitst"+s,staticClass:"alloption"},[-1!==t.deparstId.indexOf(e.departmentId)||t.parentChecked||t.onlyUser?t._e():i("i",{staticClass:"fa fa-circle-o circle",on:{click:function(i){return t.changeCheck(e,"depart")}}}),t._v(" "),t.deparstId.indexOf(e.departmentId)>-1&&!t.parentChecked&&!t.onlyUser?i("i",{staticClass:"fa fa-check-circle circle ",on:{click:function(i){return t.changeCheckDel(e,"depart")}}}):t._e(),t._v(" "),t.parentChecked&&!t.onlyUser?i("i",{staticClass:"fa fa-check-circle circle "}):t._e(),t._v(" "),i("div",{staticClass:"user",on:{click:function(i){return t.getNextLevel(e)}}},[t._m(0,!0),t._v(" "),i("div",{staticStyle:{margin:"5px auto auto 0px"}},[i("span",{staticStyle:{"padding-left":"10px","margin-top":"5px"}},[t._v(t._s(e.name))])]),t._v(" "),t._m(1,!0)])])}),t._v(" "),t._l(t.optionData.users,function(e,s){return i("div",{key:"second"+s,staticClass:"alloption"},[-1!==t.usersId.indexOf(e.employeeId)||t.parentChecked?t._e():i("i",{staticClass:"fa fa-circle-o circle",on:{click:function(i){return t.changeCheck(e,"user")}}}),t._v(" "),t.usersId.indexOf(e.employeeId)>-1&&!t.parentChecked?i("i",{staticClass:"fa fa-check-circle circle ",on:{click:function(i){return t.changeCheckDel(e,"user")}}}):t._e(),t._v(" "),t.parentChecked&&!t.onlyUser?i("i",{staticClass:"fa fa-check-circle circle "}):t._e(),t._v(" "),i("div",{staticClass:"user"},[i("div",[i("img",{attrs:{src:e.avatarurl,width:"30",height:"30"}})]),t._v(" "),i("div",{staticStyle:{margin:"5px auto auto 0px"}},[i("span",{staticStyle:{"padding-left":"10px","margin-top":"5px"}},[t._v(t._s(e.name))])])])])})],2)]):t._e(),t._v(" "),t.showadd?i("div",{staticClass:"bottoming"},[i("div",{staticClass:"checkedlist"},[t._l(t.tempexist.departs,function(e,s){return i("div",{key:"third"+s,staticStyle:{margin:"auto 0px auto 5px"}},[i("div",{staticClass:"checker"},[i("div",{staticStyle:{padding:"5px"}},[i("i",{staticClass:"fa fa-folder fa-1x"}),t._v("\n              "+t._s(e.name)+"\n            ")])])])}),t._v(" "),t._l(t.tempexist.users,function(t,e){return i("div",{key:"foutth"+e,staticStyle:{margin:"auto 0px auto 5px"}},[i("div",{staticClass:"checker"},[i("img",{attrs:{src:t.avatarurl,width:"30",height:"30"}})])])})],2),t._v(" "),i("div",{staticClass:"determin",staticStyle:{margin:"auto"},on:{click:t.seveData}},[i("span",[t._v("确定")])])]):t._e(),t._v(" "),t.isshowExist?i("div",{staticClass:"existstyle"},[i("div",{staticClass:"addtitle",on:{click:t.addDate}},[i("i",{staticClass:"fa fa-plus",staticStyle:{"font-size":"x-large",margin:"auto 0px auto 25px"}}),t._v(" "),t._m(2)]),t._v(" "),i("div",{staticClass:"options"},[t._l(t.tempexist.departs,function(e,s){return i("div",{key:"fivth"+s,staticClass:"alloption"},[i("div",{staticClass:"user"},[i("div",[t.onlyUser?t._e():i("i",{staticClass:"fa fa-folder fa-2x",staticStyle:{width:"30px",height:"30px"}})]),t._v(" "),i("div",{staticStyle:{margin:"5px auto auto 0px"}},[i("span",{staticStyle:{"padding-left":"10px","margin-top":"5px"}},[t._v(t._s(e.name))])]),t._v(" "),t.isedit?i("div",{staticStyle:{margin:"5px 10px 5px 5px"},on:{click:function(i){return t.delDate(e,"depart")}}},[i("i",{staticClass:"fa fa-close"})]):t._e()])])}),t._v(" "),t._l(t.tempexist.users,function(e,s){return i("div",{key:"sixth"+s,staticClass:"alloption"},[i("div",{staticClass:"user"},[i("div",[i("img",{attrs:{src:e.avatarurl,width:"30",height:"30"}})]),t._v(" "),i("div",{staticStyle:{margin:"5px auto auto 0px"}},[i("span",{staticStyle:{"padding-left":"10px","margin-top":"5px"}},[t._v(t._s(e.name))])]),t._v(" "),t.isedit?i("div",{staticStyle:{margin:"5px 10px 5px 5px"},on:{click:function(i){return t.delDate(e,"user")}}},[i("i",{staticClass:"fa fa-close"})]):t._e()])])})],2)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"fa fa-folder fa-2x",staticStyle:{width:"30px",height:"30px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{margin:"5px 10px 5px 5px"}},[e("i",{staticClass:"fa fa-angle-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{margin:"5px auto auto 0px"}},[e("span",{staticStyle:{"padding-left":"10px","margin-top":"5px"}},[this._v("添加")])])}]};var n=i("VU/8")(s,a,!1,function(t){i("saRe")},"data-v-4d48a7fa",null);e.a=n.exports},gGZ4:function(t,e,i){"use strict";var s={name:"inputModal",props:{inputtxt:{type:String,default:""},titlename:{type:String,default:"0"},onlyNum:{type:Boolean,default:!1}},data:function(){return{inputvlue:""}},mounted:function(){document.getElementById("focusinput").focus()},created:function(){},methods:{closeSelf:function(){this.$emit("closeinput")},clearInput:function(){this.inputvlue=""},saveInput:function(t){if(this.inputvlue)this.$emit("getinput",this.inputvlue);else{if(t)return;this.$emit("getinput",this.inputtxt)}this.closeSelf()}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-backdrop"},[i("div",{staticClass:"attendance"},[i("div",{staticClass:"heading"},[i("div",{staticClass:"black common",on:{click:t.closeSelf}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("div",{staticClass:"title common",staticStyle:{"align-items":"center"}},[t._v(t._s(t.titlename))]),t._v(" "),i("div",{staticClass:"more common",on:{click:function(e){return t.saveInput(!1)}}},[i("span",[t._v("确定")])])]),t._v(" "),i("div",{staticClass:"commonpiece"},[i("div",{staticClass:"titlehead",staticStyle:{display:"inline-flex",width:"100%"}},[t.onlyNum?i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputvlue,expression:"inputvlue"}],attrs:{id:"focusinput",autocomplete:"off",oninput:"value=value.replace(/[^\\d]/g,'')"},domProps:{value:t.inputvlue},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveInput(!0)},input:function(e){e.target.composing||(t.inputvlue=e.target.value)}}}):t._e(),t._v(" "),t.onlyNum?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputvlue,expression:"inputvlue"}],attrs:{id:"focusinput",autocomplete:"off"},domProps:{value:t.inputvlue},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveInput(!0)},input:function(e){e.target.composing||(t.inputvlue=e.target.value)}}}),t._v(" "),t.inputvlue?i("i",{staticClass:"fa fa-close fastyle",on:{click:t.clearInput}}):t._e()])])])])},staticRenderFns:[]};var n=i("VU/8")(s,a,!1,function(t){i("l+Nj")},"data-v-1a876f54",null);e.a=n.exports},hWeZ:function(t,e){},jjBS:function(t,e){},kWHk:function(t,e){},"l+Nj":function(t,e){},n26e:function(t,e){},pM97:function(t,e){},q7dn:function(t,e){},sVCJ:function(t,e){},saRe:function(t,e){},vQOi:function(t,e){}});
//# sourceMappingURL=3.5377dcb52d368e74e790.js.map